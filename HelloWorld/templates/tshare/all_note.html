<!DOCTYPE html>
<html>
	<head>
		<title>笔记</title>
		<script type="text/javascript" src="/static/echarts.min.js"></script>
		<link href="/static/jquery.dataTables.css" rel="stylesheet"
			type="text/css" />
		<script type="text/javascript" src="/static/jquery-3.1.1.min.js"></script>
		<script src="/static/jquery.dataTables.js" type="text/javascript"></script>
	</head>
	
	<body style="background: rgb(250, 250, 255)">
		<div style="width: 1300px; float: left;">
				<div style="width: 800px; float: left;margin-left: 40px">

					<table id="all_note" border="1">

						<thead>
							<tr>
								<th>日期</th>
								<th>股票</th>
								<th>类型</th>
								<th>内容</th>
							</tr>
						</thead>

						<tbody>
						{% autoescape off %}
							{% for i in note %}
							<tr>
								<td>{{i.t_date}}</td>
								<td>{{i.t_name}}</td>
								{% if i.t_type == 'operation' %}
								<td>操作笔记</td> {% else %}
								<td>其他</td>{% endif %}
								<td>{{i.t_content}}</td>
							</tr>
							{% endfor %}
						{% endautoescape %}
						</tbody>
					</table>
				</div>
			</div>
		</div>
		
		<script>
			//用于观察div 排版
			//$('div').css({"color":"red","border":"2px solid red"});
			$(document).ready( function () {
				$('#all_note').DataTable({
						"columnDefs": [
							{
								"targets": 0,
								"createdCell": function (td, cellData, rowData, row, col) {
									$(td).css('width', '70px');
								}
							},
														{
								"targets": 1,
								"createdCell": function (td, cellData, rowData, row, col) {
									$(td).css('width', '80px');
								}
							},
														{
								"targets": 2,
								"createdCell": function (td, cellData, rowData, row, col) {
									$(td).css('width', '80px');
								}
							},
														{
								"targets": 3,
								"createdCell": function (td, cellData, rowData, row, col) {
									var tmp = $(td).html();
									tmp = tmp.replace(/\ +/g,"&nbsp");
									tmp = tmp.replace(/[ ]/g,"&nbsp");
									tmp = tmp.replace(/[\r\n]/g,"<br>");
									tmp = "<div style=\"width: 900px; float: left; word-break:break-all\">" + tmp;
									tmp = tmp + "</div>"
									$(td).html(tmp);
								}
							}
						]
					});
			});
		</script>
	</body>
</html>